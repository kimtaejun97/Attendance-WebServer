<!DOCTYPE html>
<html xmlns:th ="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments :: headerFragment"></head>

<body>
<nav th:replace="fragments :: navFragment"> </nav>

<h3 class="py-3 card-title text-center">내가 등록된 장소</h3>
<hr>

<div class="container">
    <table class="table">
        <thead>
        <th scope="col">별칭</th><th scope="col">위치</th><th scope="col">생성자</th><th scope="col"></th><th scope="col"></th>
        </thead>
        <tbody>
        <tr th:each="place : ${places}">
            <td th:text="${place.alias}"></td>
            <td th:text="${place.location}"></td>
            <td th:text="${place.creator}"></td>
            <td><a class="btn btn-outline-primary" href="#" th:href="@{'/attendance/' + ${place.location}}">출입 현황</a></td>
            <td th:if="${place.creator} == ${#authentication.name}" ><a class="btn btn-outline-secondary" href="#" th:href="@{'/attendance/' + ${place.location}}">관리</a></td>
            <td><a class="btn btn-outline-danger" href="#" th:if="${place.creator} != ${#authentication.name}" th:href="@{'/my-place/delete/' + ${place.location}}">탈퇴</a></td>
            <td></td>
        </tr>
        </tbody>
    </table>

<!--    <div class="d-grid gap-2">-->
<!--        <a class ="btn btn-outline-primary " id="btn-addLecture" th:href="@{/create-place}">강의 추가</a>-->
<!--    </div>-->
</div>

<th:block th:replace="fragments :: footerFragment"/>
</body>
</html>